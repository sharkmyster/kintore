<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">
<head>
    <meta charset="UTF-8">
    <title>{{ .Title }} | {{ .Site.Title }}</title>
    
    {{ $opts := dict "transpiler" "libsass" "targetPath" "css/main.css" }}
    {{ if hugo.IsProduction }}
        {{ $opts = merge $opts (dict "outputStyle" "compressed") }}
    {{ end }}

    {{ $style := resources.Get "scss/main.scss" | toCSS $opts }}

    {{ if hugo.IsProduction }}
        {{ $style = $style | fingerprint }}
    {{ end }}

    <link rel="stylesheet" href="{{ $style.RelPermalink }}">
</head>
<body>
    <header>
        <h1>{{ .Site.Title }}</h1>
    </header>

    <main>
        {{ block "main" . }}{{ end }}
    </main>
</body>
</html>